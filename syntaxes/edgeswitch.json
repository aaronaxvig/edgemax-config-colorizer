{
  "name": "EdgeSwitch",
  "fileTypes": ["edgeswitch"],
  "scopeName": "text.edgeswitch",
  "patterns": [
    {"include":"#comment"},
    {"include":"#section-interface"},
    {"include":"#section-interface-lag"},
    {"include":"#section-vlan-database"}
  ],
  "repository":{
    "comment":{
      "patterns":[
        {
          "match":"!.*$",
          "name":"comment.line.edgemax"
        }
      ]
    },
    "contents-interface":{
      "patterns":[
        {
          "include":"#line-lldp"
        },
        {
          "include":"#line-vlan-participation"
        },
        {
          "include":"#line-vlan-pvid"
        },
        {
          "include":"#line-vlan-tagging"
        },
        {
          "include":"#line-voice"
        }
      ]
    },
    "line-lldp":{
      "patterns":[
        {
          "match":"^(lldp\\s)((transmit|receive|med))$",
          "captures":{
            "1":{"name":"keyword.other.edgemax"},
            "2":{"name":"support.constant.edgemax"}
          }
        }
      ]
    },
    "line-vlan-participation":{
      "patterns":[
        {
          "match":"(vlan\\s)(participation\\s)(exclude\\s|include\\s)(.*)",
          "captures":{
            "1":{"name":"keyword.other.edgemax"},
            "2":{"name":"support.constant.edgemax"},
            "3":{"name":"constant.language.edgemax"},
            "4":{"name":"constant.numeric.edgemax"}
          }
        }
      ]
    },
    "line-vlan-pvid":{
      "patterns":[
        {
          "match":"(vlan\\s)(pvid\\s)([0-9]+$)",
          "captures":{
            "1":{"name":"keyword.other.edgemax"},
            "2":{"name":"support.constant.edgemax"},
            "3":{"name":"constant.numeric.edgemax"}
          }
        }
      ]
    },
    "line-vlan-tagging":{
      "patterns":[
        {
          "match":"^(vlan\\s)(tagging\\s)(.*$)",
          "captures":{
            "1":{"name":"keyword.other.edgemax"},
            "2":{"name":"support.constant.edgemax"},
            "3":{"name":"constant.numeric.edgemax"}
          }
        }
      ]
    },
    "line-voice":{
      "patterns":[
        {
          "match":"(voice\\s)(vlan\\s)([0-9]+$)",
          "captures":{
            "1":{"name":"keyword.other.edgemax"},
            "2":{"name":"support.constant.edgemax"},
            "3":{"name":"constant.numeric.edgemax"}
          }
        }
      ]
    },
    "section-interface":{
      "patterns":[
        {
          "begin":"(^interface\\s)([0-9]+)(\\/)([0-9]+)",
          "beginCaptures":{
            "1":{"name":"support.class.edgemax"},
            "2":{"name":"constant.numeric.edgemax"},
            "3":{"name":"constant.character.edgemax"},
            "4":{"name":"constant.numeric.edgemax"}
          },
          "end":"^\\s*exit\\s*$",
          "endCaptures":{
            "1":{"name":"keyword.other.edgemax"}
          },
          "patterns":[
            {
              "include":"#contents-interface"
            }
          ]
        }
      ]
    },
    "section-interface-lag":{
      "patterns":[
        {
          "begin":"(^interface\\s)(lag\\s)([0-9]+)",
          "beginCaptures":{
            "1":{"name":"support.class.edgemax"},
            "2":{"name":"constant.numeric.edgemax"},
            "3":{"name":"constant.character.edgemax"},
            "4":{"name":"constant.numeric.edgemax"}
          },
          "end":"^\\s*exit\\s*$",
          "endCaptures":{
            "1":{"name":"keyword.other.edgemax"}
          },
          "patterns":[
            {
              "include":"#contents-interface"
            }
          ]
        }
      ]
    },
    "section-vlan-database":{
      "patterns":[
        {
          "begin":"vlan database",
          "end":"^\\s*exit\\s*$",
          "patterns":[
            {
              "match":"(vlan\\s)(name\\s)([0-9]+\\s)(.*$)",
              "captures":{
                "1":{"name":"keyword.other.edgemax"},
                "2":{"name":"support.constant.edgemax"},
                "3":{"name":"constant.numeric.edgemax"},
                "4":{"name":"string.quoted.double.edgemax"}
              }
            },
            {
              "match":"(vlan\\s)(.*)",
              "captures":{
                "1":{"name":"keyword.other.edgemax"},
                "2":{"name":"constant.numeric.edgemax"}
              }
            }
          ]
        }
      ]
    }
  }
}